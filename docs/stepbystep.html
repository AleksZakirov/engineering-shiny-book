<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 4 Step by step | Building Big Shiny Apps - A Workflow</title>
  <meta name="description" content="Chapter 4 Step by step | Building Big Shiny Apps - A Workflow">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 4 Step by step | Building Big Shiny Apps - A Workflow" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 4 Step by step | Building Big Shiny Apps - A Workflow" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Step by step | Building Big Shiny Apps - A Workflow" />
  
  <meta name="twitter:description" content="Chapter 4 Step by step | Building Big Shiny Apps - A Workflow" />
  

<meta name="author" content="Colin Fay">


<meta name="date" content="2019-04-07">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="challenges.html">
<link rel="next" href="golem.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Building Big Shiny Apps - A Workflow</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Disclaimer</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#motivation"><i class="fa fa-check"></i><b>1.1</b> Motivation</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i><b>1.2</b> Other resources</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#getting-started-with-shiny"><i class="fa fa-check"></i><b>1.2.1</b> Getting started with Shiny</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#shiny-into-production"><i class="fa fa-check"></i><b>1.2.2</b> Shiny into production</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Building Shiny Apps</b></span></li>
<li class="chapter" data-level="2" data-path="bigshinyapp.html"><a href="bigshinyapp.html"><i class="fa fa-check"></i><b>2</b> About Big Shiny Apps</a></li>
<li class="chapter" data-level="3" data-path="challenges.html"><a href="challenges.html"><i class="fa fa-check"></i><b>3</b> Challenges</a><ul>
<li class="chapter" data-level="3.1" data-path="challenges.html"><a href="challenges.html#finding-a-good-ui-and-stick-with-it"><i class="fa fa-check"></i><b>3.1</b> Finding a good UI (and stick with it)</a></li>
<li class="chapter" data-level="3.2" data-path="challenges.html"><a href="challenges.html#working-as-a-team"><i class="fa fa-check"></i><b>3.2</b> Working as a team</a><ul>
<li class="chapter" data-level="3.2.1" data-path="challenges.html"><a href="challenges.html#from-the-tools-point-of-view"><i class="fa fa-check"></i><b>3.2.1</b> From the tools point of view:</a></li>
<li class="chapter" data-level="3.2.2" data-path="challenges.html"><a href="challenges.html#from-the-organisational-point-of-view"><i class="fa fa-check"></i><b>3.2.2</b> From the organisational point of view</a></li>
<li class="chapter" data-level="3.2.3" data-path="challenges.html"><a href="challenges.html#making-the-app-production-ready"><i class="fa fa-check"></i><b>3.2.3</b> Making the app production ready</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="stepbystep.html"><a href="stepbystep.html"><i class="fa fa-check"></i><b>4</b> Step by step</a><ul>
<li class="chapter" data-level="4.1" data-path="stepbystep.html"><a href="stepbystep.html#step-1-designing"><i class="fa fa-check"></i><b>4.1</b> Step 1: Designing</a></li>
<li class="chapter" data-level="4.2" data-path="stepbystep.html"><a href="stepbystep.html#step-2-prototype"><i class="fa fa-check"></i><b>4.2</b> Step 2: Prototype</a></li>
<li class="chapter" data-level="4.3" data-path="stepbystep.html"><a href="stepbystep.html#step-3-build"><i class="fa fa-check"></i><b>4.3</b> Step 3: Build</a></li>
<li class="chapter" data-level="4.4" data-path="stepbystep.html"><a href="stepbystep.html#step-4-secure"><i class="fa fa-check"></i><b>4.4</b> Step 4: Secure</a></li>
<li class="chapter" data-level="4.5" data-path="stepbystep.html"><a href="stepbystep.html#step-5-deploy"><i class="fa fa-check"></i><b>4.5</b> Step 5: Deploy</a></li>
</ul></li>
<li class="part"><span><b>II Tools</b></span></li>
<li class="chapter" data-level="5" data-path="golem.html"><a href="golem.html"><i class="fa fa-check"></i><b>5</b> Using Golem</a><ul>
<li class="chapter" data-level="5.1" data-path="golem.html"><a href="golem.html#getting-started-with-golem"><i class="fa fa-check"></i><b>5.1</b> Getting started with <code>{golem}</code></a><ul>
<li class="chapter" data-level="5.1.1" data-path="golem.html"><a href="golem.html#create-a-package"><i class="fa fa-check"></i><b>5.1.1</b> Create a package</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="golem.html"><a href="golem.html#dev01_start.r"><i class="fa fa-check"></i><b>5.2</b> <code>dev/01_start.R</code></a><ul>
<li class="chapter" data-level="5.2.1" data-path="golem.html"><a href="golem.html#fill-the-desc"><i class="fa fa-check"></i><b>5.2.1</b> Fill the DESC</a></li>
<li class="chapter" data-level="5.2.2" data-path="golem.html"><a href="golem.html#set-common-files"><i class="fa fa-check"></i><b>5.2.2</b> Set common Files</a></li>
<li class="chapter" data-level="5.2.3" data-path="golem.html"><a href="golem.html#add-a-data-raw-folder"><i class="fa fa-check"></i><b>5.2.3</b> Add a data-raw folder</a></li>
<li class="chapter" data-level="5.2.4" data-path="golem.html"><a href="golem.html#init-tests"><i class="fa fa-check"></i><b>5.2.4</b> Init Tests</a></li>
<li class="chapter" data-level="5.2.5" data-path="golem.html"><a href="golem.html#use-recommended-package"><i class="fa fa-check"></i><b>5.2.5</b> Use Recommended Package</a></li>
<li class="chapter" data-level="5.2.6" data-path="golem.html"><a href="golem.html#add-various-tools"><i class="fa fa-check"></i><b>5.2.6</b> Add various tools</a></li>
<li class="chapter" data-level="5.2.7" data-path="golem.html"><a href="golem.html#if-you-want-to-change-the-default-favicon"><i class="fa fa-check"></i><b>5.2.7</b> If you want to change the default favicon</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="golem.html"><a href="golem.html#day-to-day-dev-with-golem"><i class="fa fa-check"></i><b>5.3</b> Day to Day Dev with <code>{golem}</code></a></li>
<li class="chapter" data-level="5.4" data-path="golem.html"><a href="golem.html#launching-the-app"><i class="fa fa-check"></i><b>5.4</b> Launching the app</a></li>
<li class="chapter" data-level="5.5" data-path="golem.html"><a href="golem.html#dev02_dev.r"><i class="fa fa-check"></i><b>5.5</b> <code>dev/02_dev.R</code></a><ul>
<li class="chapter" data-level="5.5.1" data-path="golem.html"><a href="golem.html#add-modules"><i class="fa fa-check"></i><b>5.5.1</b> Add modules</a></li>
<li class="chapter" data-level="5.5.2" data-path="golem.html"><a href="golem.html#add-dependencies"><i class="fa fa-check"></i><b>5.5.2</b> Add dependencies</a></li>
<li class="chapter" data-level="5.5.3" data-path="golem.html"><a href="golem.html#add-tests"><i class="fa fa-check"></i><b>5.5.3</b> Add tests</a></li>
<li class="chapter" data-level="5.5.4" data-path="golem.html"><a href="golem.html#add-a-browser-button"><i class="fa fa-check"></i><b>5.5.4</b> Add a browser button</a></li>
<li class="chapter" data-level="5.5.5" data-path="golem.html"><a href="golem.html#add-external-files"><i class="fa fa-check"></i><b>5.5.5</b> Add external files</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="golem.html"><a href="golem.html#documentation"><i class="fa fa-check"></i><b>5.6</b> Documentation</a><ul>
<li class="chapter" data-level="5.6.1" data-path="golem.html"><a href="golem.html#vignette"><i class="fa fa-check"></i><b>5.6.1</b> Vignette</a></li>
<li class="chapter" data-level="5.6.2" data-path="golem.html"><a href="golem.html#code-coverage"><i class="fa fa-check"></i><b>5.6.2</b> Code coverage</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="golem.html"><a href="golem.html#using-golem-dev-functions"><i class="fa fa-check"></i><b>5.7</b> Using <code>{golem}</code> dev functions</a></li>
<li class="chapter" data-level="5.8" data-path="golem.html"><a href="golem.html#deploying-apps-with-golem"><i class="fa fa-check"></i><b>5.8</b> Deploying Apps with <code>{golem}</code></a><ul>
<li class="chapter" data-level="5.8.1" data-path="golem.html"><a href="golem.html#rstudio-connect"><i class="fa fa-check"></i><b>5.8.1</b> RStudio Connect</a></li>
<li class="chapter" data-level="5.8.2" data-path="golem.html"><a href="golem.html#docker"><i class="fa fa-check"></i><b>5.8.2</b> Docker</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="golem.html"><a href="golem.html#using-golem-js-functions"><i class="fa fa-check"></i><b>5.9</b> Using <code>{golem}</code> js functions</a><ul>
<li class="chapter" data-level="5.9.1" data-path="golem.html"><a href="golem.html#golemjs"><i class="fa fa-check"></i><b>5.9.1</b> <code>golem::js()</code></a></li>
<li class="chapter" data-level="5.9.2" data-path="golem.html"><a href="golem.html#about-jquery-selectors"><i class="fa fa-check"></i><b>5.9.2</b> About jQuery selectors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tools.html"><a href="tools.html"><i class="fa fa-check"></i><b>6</b> Tools</a><ul>
<li class="chapter" data-level="6.1" data-path="tools.html"><a href="tools.html#shinipsum-and-fakir"><i class="fa fa-check"></i><b>6.1</b> {shinipsum} and {fakir}:</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tooling.html"><a href="tooling.html"><i class="fa fa-check"></i><b>7</b> Tools</a><ul>
<li class="chapter" data-level="7.1" data-path="tooling.html"><a href="tooling.html#package"><i class="fa fa-check"></i><b>7.1</b> Package</a></li>
<li class="chapter" data-level="7.2" data-path="tooling.html"><a href="tooling.html#git"><i class="fa fa-check"></i><b>7.2</b> Git</a></li>
<li class="chapter" data-level="7.3" data-path="tooling.html"><a href="tooling.html#shiny-modules"><i class="fa fa-check"></i><b>7.3</b> Shiny modules</a></li>
<li class="chapter" data-level="7.4" data-path="tooling.html"><a href="tooling.html#shinipsum-and-fakir-1"><i class="fa fa-check"></i><b>7.4</b> {shinipsum} and {fakir}:</a></li>
<li class="chapter" data-level="7.5" data-path="tooling.html"><a href="tooling.html#ci-and-testing"><i class="fa fa-check"></i><b>7.5</b> CI and testing</a></li>
<li class="chapter" data-level="7.6" data-path="tooling.html"><a href="tooling.html#deploy"><i class="fa fa-check"></i><b>7.6</b> Deploy</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Building Big Shiny Apps - A Workflow</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="stepbystep" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Step by step</h1>
<div id="step-1-designing" class="section level2">
<h2><span class="header-section-number">4.1</span> Step 1: Designing</h2>
<p>Don’t rush into coding. I know you want to, because it’s what we like to do and what we are good at. But before entering the coding marathon, take time to think about the application and the way it will be deployed and used. Take a pen and a piece of paper and draw the app. Talk about it with the people who will use the app, just to decipher what they actually need. Take a moment to talk with the IT. Here are some questions you can ask:</p>
<ul>
<li>“Who are the end users of the app?” — This will help you know if the end users are tech literate or not, and what they aim to achieve with the app.</li>
<li>“How frequently will they use the app?” — The small details of the design &amp; the UI of an app you use on a daily basis is more crucial than when the app is used once a month.</li>
<li>“What level of complexity and personalization do the users really need?” — People writing app specifications sometimes want more functionalities than what is actually needed by the users.</li>
<li>“What level of interactivity do you want, and to what extent is it central?” — People love interactive graphs and like when things automatically sync with each other. Yet these two can make the app slower, without any significant gain. For example, being reactive to a <code>selectInput()</code> or a <code>sliderInput()</code> can lead to too much computation: maybe the user will not succeed to choose the right input the first, second or third time… So let them do their choice, and add a button so that they can validate when they are ready.</li>
<li>“How important is it that the app is fast?” — Should you spend a lot of time optimizing the little things?</li>
<li>etc.</li>
</ul>
<p>Asking questions, taking notes, and drawing the app help you have a good idea of what is expected and what you have to do now.</p>
<p>So, next step!</p>
</div>
<div id="step-2-prototype" class="section level2">
<h2><span class="header-section-number">4.2</span> Step 2: Prototype</h2>
<p>I like to go “UI first”. For two main reasons:</p>
<ul>
<li>Once the UI is set, there is no “surprise implementation”. Once we agree on what elements there are in the app, there is no sudden “oh the app needs to do that now”.</li>
<li>A pre-defined UI allows every person involved in the coding to know which part of the app they are working on. In other words, when you start working on the backend, it’s much easier to work on a piece you can visually identify and integrate in a complete app scenario.</li>
</ul>
<p>So yes, spend time writing a front-end prototype in lorem ipsum. And good news, we’ve got a tool for you: it’s called <code>{shinipsum}</code>. The main goal of this package is to create random Shiny elements that can be used to draw a UI, without actually doing any heavy lifting in the backend.</p>
<p>Hence, once you’ve got a draft of your app on a piece of paper, you can then move to the “ipsum-UI” stage: building the front-end of the app, and filling it with random Shiny elements, with functions like <code>random_ggplot()</code> or <code>random_DT()</code>.</p>
<p>Another package that can be used to do that is <code>{fakir}</code>. This package is designed to create fake data frames, primarily for teaching purposes, but it can also be used for inserting data into a shiny prototype.</p>
</div>
<div id="step-3-build" class="section level2">
<h2><span class="header-section-number">4.3</span> Step 3: Build</h2>
<p>Now the UI and the features are set, time to work on the backend 🎉</p>
<p>This part is pretty standard — everybody can now work on the implementation of the functions that process the app inputs, in their own modules. As the UI, functionalities and modules have been defined in the previous steps, everyone (well, in theory) knows what they have to work on.</p>
<p>And also, as said before, there should be no “surprise implementation”, as the app has been well defined before.</p>
</div>
<div id="step-4-secure" class="section level2">
<h2><span class="header-section-number">4.4</span> Step 4: Secure</h2>
<p>Securing your app means two things: testing, and locking the application environment.</p>
<p>So first, be sure to include tests all along the building process — just like any other R code. As the app is contained in a package, you can use standard testing tools for testing the business logic of your app — as said in the first part, it’s important to split the backend functions and algorithm from the user interface. That means that these backend functions can run outside of the application. And yes, if they can run outside of the app, they can be tested the standard way, using {testthat}.</p>
<p>When it comes to testing the front end, you can try the {shinytest} package from RStudio, if you need to be sure there is no visual regression all along the project development. {shinyloadtest}, on the other hand, tests how an application behaves when one, two, three, twenty, one hundred users connect to the app, and gives you a visual report about the connection and response time of each session.</p>
<p>One other tool I like to use is Katalon Studio. It’s not R related, and can be used with any kind of web app. How it works is quite simple: it opens your browser where the Shiny app runs, and record everything that happens. Once you stop the recording, you can relaunch the app and it will replay all the events it has recorded. And of course, you can specify your own scenario, define your own events, etc. It’s not that straightforward to use, but once you get a good grasp of how it works, it’s a very powerful tool.</p>
<p>Secondly, secure your app means that it can be deployed again any time in the future — in other words, you have to ensure you’ve got a proper handle on the required R version, and of the package versions which are required to run your app. That means that you have to be aware that upgrading a package might break your app — so, provide an environment that can prevent your app from breaking when a package gets updated. For that, there is, of course, Docker, R specific tools like <code>{packrat}</code>, or deploying custom CRAN repositories or package manager.</p>
</div>
<div id="step-5-deploy" class="section level2">
<h2><span class="header-section-number">4.5</span> Step 5: Deploy</h2>
<p>Tools for deployment are not the subject of this blog post so I won’t talk about this in detail (remember, we are talking about building 😉 ), but our two tools of choice are Docker &amp; ShinyProxy, and RStudio Connect.</p>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="challenges.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="golem.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
