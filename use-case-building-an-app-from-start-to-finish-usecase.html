<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Use case - Building an App, from Start to Finish (#usecase) | Engineering Production-Grade Shiny Apps</title>
  <meta name="description" content="A book about engineering shiny application that will later be sent to production. This book cover project management, structuring your project, building a solid testing suite, and optimizing your codebase. We describe in this book a specific workflow: design, prototype, build, strengthen and deploy." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Use case - Building an App, from Start to Finish (#usecase) | Engineering Production-Grade Shiny Apps" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="https://raw.githubusercontent.com/ThinkR-open/engineering-shiny-book/master/img/engineering-shiny.jpg" />
  <meta property="og:description" content="A book about engineering shiny application that will later be sent to production. This book cover project management, structuring your project, building a solid testing suite, and optimizing your codebase. We describe in this book a specific workflow: design, prototype, build, strengthen and deploy." />
  <meta name="github-repo" content="ThinkR-open/building-shiny-apps-workflow" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Use case - Building an App, from Start to Finish (#usecase) | Engineering Production-Grade Shiny Apps" />
  
  <meta name="twitter:description" content="A book about engineering shiny application that will later be sent to production. This book cover project management, structuring your project, building a solid testing suite, and optimizing your codebase. We describe in this book a specific workflow: design, prototype, build, strengthen and deploy." />
  <meta name="twitter:image" content="https://raw.githubusercontent.com/ThinkR-open/engineering-shiny-book/master/img/engineering-shiny.jpg" />

<meta name="author" content="Colin Fay, Sébastien Rochette, Vincent Guyader, Cervan Girard" />


<meta name="date" content="2020-11-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
<link rel="prev" href="css.html"/>
<link rel="next" href="session-info.html"/>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block/empty-anchor.js"></script>
<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-149994171-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-149994171-1');
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/thinkr.css" type="text/css" />
<link rel="stylesheet" href="css/style_gitbook.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Engineering Production-Grade Shiny Apps</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#motivation"><i class="fa fa-check"></i>Motivation</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#who-is-this-book-for"><i class="fa fa-check"></i>Who is this book for</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-is-production"><i class="fa fa-check"></i>What is “production”?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#book-structure"><i class="fa fa-check"></i>Book structure</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-authors"><i class="fa fa-check"></i>About the authors</a><ul>
<li><a href="index.html#colin-fay"><a href="https://colinfay.me/">Colin Fay</a></a></li>
<li><a href="index.html#sébastien-rochette"><a href="https://statnmap.com/">Sébastien Rochette</a></a></li>
<li><a href="index.html#vincent-guyader"><a href="https://twitter.com/VincentGuyader">Vincent Guyader</a></a></li>
<li><a href="index.html#cervan-girard"><a href="https://twitter.com/CervanGirard">Cervan Girard</a></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#want-to-help"><i class="fa fa-check"></i>Want to help?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i>Other resources</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#getting-started-with-shiny"><i class="fa fa-check"></i>Getting started with Shiny</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#shiny-into-production"><i class="fa fa-check"></i>Shiny into production</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#disclaimer"><i class="fa fa-check"></i>Disclaimer</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#software-information-and-conventions"><i class="fa fa-check"></i>Software information and conventions</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors-to-this-book"><i class="fa fa-check"></i>Contributors to this book</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="foreword.html"><a href="foreword.html"><i class="fa fa-check"></i>Foreword</a></li>
<li class="chapter" data-level="" data-path="applications-presentation.html"><a href="applications-presentation.html"><i class="fa fa-check"></i>Applications presentation</a><ul>
<li><a href="applications-presentation.html#hexmake"><code>{hexmake}</code></a></li>
<li><a href="applications-presentation.html#tidytuesday201942"><code>{tidytuesday201942}</code></a></li>
<li><a href="applications-presentation.html#minifying"><code>{minifying}</code></a></li>
<li class="chapter" data-level="" data-path="applications-presentation.html"><a href="applications-presentation.html#other-applications"><i class="fa fa-check"></i>Other applications</a></li>
</ul></li>
<li class="part"><span><b>I Building Successful Shiny Apps</b></span></li>
<li class="chapter" data-level="1" data-path="successfulshinyapp.html"><a href="successfulshinyapp.html"><i class="fa fa-check"></i><b>1</b> About Successful Shiny Apps</a><ul>
<li class="chapter" data-level="1.1" data-path="successfulshinyapp.html"><a href="successfulshinyapp.html#a-very-short-introduction-to-shiny"><i class="fa fa-check"></i><b>1.1</b> A (very) short introduction to <code>{shiny}</code></a></li>
<li class="chapter" data-level="1.2" data-path="successfulshinyapp.html"><a href="successfulshinyapp.html#complex-shiny"><i class="fa fa-check"></i><b>1.2</b> What is a Complex <code>{shiny}</code> Application?</a><ul>
<li class="chapter" data-level="1.2.1" data-path="successfulshinyapp.html"><a href="successfulshinyapp.html#reaching-the-cliff-of-complexity"><i class="fa fa-check"></i><b>1.2.1</b> Reaching the cliff of complexity</a></li>
<li class="chapter" data-level="1.2.2" data-path="successfulshinyapp.html"><a href="successfulshinyapp.html#balancing-complexities"><i class="fa fa-check"></i><b>1.2.2</b> Balancing complexities</a></li>
<li class="chapter" data-level="1.2.3" data-path="successfulshinyapp.html"><a href="successfulshinyapp.html#assessing-code-complexity"><i class="fa fa-check"></i><b>1.2.3</b> Assessing Code Complexity</a></li>
<li class="chapter" data-level="1.2.4" data-path="successfulshinyapp.html"><a href="successfulshinyapp.html#production-grade-software-engineering"><i class="fa fa-check"></i><b>1.2.4</b> Production Grade Software Engineering</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="successfulshinyapp.html"><a href="successfulshinyapp.html#what-is-a-successful-shiny-app"><i class="fa fa-check"></i><b>1.3</b> What is a successful <code>{shiny}</code> App?</a><ul>
<li class="chapter" data-level="1.3.1" data-path="successfulshinyapp.html"><a href="successfulshinyapp.html#it-exists"><i class="fa fa-check"></i><b>1.3.1</b> It exists</a></li>
<li class="chapter" data-level="1.3.2" data-path="successfulshinyapp.html"><a href="successfulshinyapp.html#it-is-accurate"><i class="fa fa-check"></i><b>1.3.2</b> It is accurate</a></li>
<li class="chapter" data-level="1.3.3" data-path="successfulshinyapp.html"><a href="successfulshinyapp.html#it-is-usable"><i class="fa fa-check"></i><b>1.3.3</b> It is usable</a></li>
<li class="chapter" data-level="1.3.4" data-path="successfulshinyapp.html"><a href="successfulshinyapp.html#it-is-immortal"><i class="fa fa-check"></i><b>1.3.4</b> It is immortal</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="planning.html"><a href="planning.html"><i class="fa fa-check"></i><b>2</b> Planning Ahead</a><ul>
<li class="chapter" data-level="2.1" data-path="planning.html"><a href="planning.html#working-with-a-long-term-mindset"><i class="fa fa-check"></i><b>2.1</b> Working with a “long-term” mindset</a><ul>
<li class="chapter" data-level="2.1.1" data-path="planning.html"><a href="planning.html#prepare-for-success"><i class="fa fa-check"></i><b>2.1.1</b> Prepare for success</a></li>
<li class="chapter" data-level="2.1.2" data-path="planning.html"><a href="planning.html#develop-with-the-kiss-principle"><i class="fa fa-check"></i><b>2.1.2</b> Develop with the KISS principle</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="planning.html"><a href="planning.html#working-as-a-team-tools-structure"><i class="fa fa-check"></i><b>2.2</b> Working as a team: Tools &amp; Structure</a><ul>
<li class="chapter" data-level="2.2.1" data-path="planning.html"><a href="planning.html#from-the-tools-point-of-view"><i class="fa fa-check"></i><b>2.2.1</b> From the tools point of view</a></li>
<li class="chapter" data-level="2.2.2" data-path="planning.html"><a href="planning.html#from-the-team-point-of-view"><i class="fa fa-check"></i><b>2.2.2</b> From the Team Point of View</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="structure.html"><a href="structure.html"><i class="fa fa-check"></i><b>3</b> Structuring your Project</a><ul>
<li class="chapter" data-level="3.1" data-path="structure.html"><a href="structure.html#shiny-app-as-a-package"><i class="fa fa-check"></i><b>3.1</b> <code>{shiny}</code> App as a Package</a><ul>
<li class="chapter" data-level="3.1.1" data-path="structure.html"><a href="structure.html#what-is-in-a-production-grade-shiny-app"><i class="fa fa-check"></i><b>3.1.1</b> What is in a production-grade <code>{shiny}</code> App?</a></li>
<li class="chapter" data-level="3.1.2" data-path="structure.html"><a href="structure.html#resources"><i class="fa fa-check"></i><b>3.1.2</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="structure.html"><a href="structure.html#using-shiny-modules"><i class="fa fa-check"></i><b>3.2</b> Using <code>{shiny}</code> Modules</a><ul>
<li class="chapter" data-level="3.2.1" data-path="structure.html"><a href="structure.html#why-using-shiny-modules"><i class="fa fa-check"></i><b>3.2.1</b> Why using <code>{shiny}</code> modules?</a></li>
<li class="chapter" data-level="3.2.2" data-path="structure.html"><a href="structure.html#when-to-use-shiny-modules"><i class="fa fa-check"></i><b>3.2.2</b> When to use <code>{shiny}</code> modules</a></li>
<li class="chapter" data-level="3.2.3" data-path="structure.html"><a href="structure.html#a-practical-walk-through"><i class="fa fa-check"></i><b>3.2.3</b> A practical walk through</a></li>
<li class="chapter" data-level="3.2.4" data-path="structure.html"><a href="structure.html#communication-between-modules"><i class="fa fa-check"></i><b>3.2.4</b> Communication between modules</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="structure.html"><a href="structure.html#structuring-your-app"><i class="fa fa-check"></i><b>3.3</b> Structuring your app</a><ul>
<li class="chapter" data-level="3.3.1" data-path="structure.html"><a href="structure.html#business-logic-application-logic"><i class="fa fa-check"></i><b>3.3.1</b> Business logic &amp; application logic</a></li>
<li class="chapter" data-level="3.3.2" data-path="structure.html"><a href="structure.html#small-is-beautiful-bis-repetita"><i class="fa fa-check"></i><b>3.3.2</b> Small is beautiful (bis repetita)</a></li>
<li class="chapter" data-level="3.3.3" data-path="structure.html"><a href="structure.html#conventions-matter"><i class="fa fa-check"></i><b>3.3.3</b> Conventions matter</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="golem.html"><a href="golem.html"><i class="fa fa-check"></i><b>4</b> Introduction to <code>{golem}</code></a><ul>
<li class="chapter" data-level="4.1" data-path="golem.html"><a href="golem.html#what-is-golem"><i class="fa fa-check"></i><b>4.1</b> What is <code>{golem}</code>?</a></li>
<li class="chapter" data-level="4.2" data-path="golem.html"><a href="golem.html#understanding-golem-app-structure"><i class="fa fa-check"></i><b>4.2</b> Understanding <code>{golem}</code> app structure</a><ul>
<li class="chapter" data-level="4.2.1" data-path="golem.html"><a href="golem.html#description-namespace"><i class="fa fa-check"></i><b>4.2.1</b> <code>DESCRIPTION</code> &amp; <code>NAMESPACE</code></a></li>
<li class="chapter" data-level="4.2.2" data-path="golem.html"><a href="golem.html#r"><i class="fa fa-check"></i><b>4.2.2</b> R/</a></li>
<li class="chapter" data-level="4.2.3" data-path="golem.html"><a href="golem.html#golem-config"><i class="fa fa-check"></i><b>4.2.3</b> <code>golem-config</code></a></li>
<li class="chapter" data-level="4.2.4" data-path="golem.html"><a href="golem.html#instappwww"><i class="fa fa-check"></i><b>4.2.4</b> <code>inst/app/www/</code></a></li>
<li class="chapter" data-level="4.2.5" data-path="golem.html"><a href="golem.html#dev"><i class="fa fa-check"></i><b>4.2.5</b> <code>dev/</code></a></li>
<li class="chapter" data-level="4.2.6" data-path="golem.html"><a href="golem.html#man"><i class="fa fa-check"></i><b>4.2.6</b> <code>man/</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>5</b> The workflow</a><ul>
<li class="chapter" data-level="5.1" data-path="workflow.html"><a href="workflow.html#step-1-design"><i class="fa fa-check"></i><b>5.1</b> Step 1: Design</a></li>
<li class="chapter" data-level="5.2" data-path="workflow.html"><a href="workflow.html#step-2-prototype"><i class="fa fa-check"></i><b>5.2</b> Step 2: Prototype</a></li>
<li class="chapter" data-level="5.3" data-path="workflow.html"><a href="workflow.html#step-3-build"><i class="fa fa-check"></i><b>5.3</b> Step 3: Build</a></li>
<li class="chapter" data-level="5.4" data-path="workflow.html"><a href="workflow.html#step-4-strengthen"><i class="fa fa-check"></i><b>5.4</b> Step 4: Strengthen</a></li>
<li class="chapter" data-level="5.5" data-path="workflow.html"><a href="workflow.html#step-5-deploy"><i class="fa fa-check"></i><b>5.5</b> Step 5: Deploy</a></li>
</ul></li>
<li class="part"><span><b>II Step 1: Design</b></span></li>
<li class="chapter" data-level="6" data-path="matters.html"><a href="matters.html"><i class="fa fa-check"></i><b>6</b> UX Matters</a><ul>
<li class="chapter" data-level="6.1" data-path="matters.html"><a href="matters.html#simplicity-is-gold"><i class="fa fa-check"></i><b>6.1</b> Simplicity is Gold</a><ul>
<li class="chapter" data-level="6.1.1" data-path="matters.html"><a href="matters.html#how-we-read-the-web-scanning-content"><i class="fa fa-check"></i><b>6.1.1</b> How we read the web: scanning content</a></li>
<li class="chapter" data-level="6.1.2" data-path="matters.html"><a href="matters.html#building-a-self-evident-app-or-at-least-self-explanatory"><i class="fa fa-check"></i><b>6.1.2</b> Building a self-evident app (or at least self-explanatory)</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="matters.html"><a href="matters.html#the-danger-of-feature-creep"><i class="fa fa-check"></i><b>6.2</b> The danger of feature-creep</a><ul>
<li class="chapter" data-level="6.2.1" data-path="matters.html"><a href="matters.html#what-is-feature-creep"><i class="fa fa-check"></i><b>6.2.1</b> What is feature-creep?</a></li>
<li class="chapter" data-level="6.2.2" data-path="matters.html"><a href="matters.html#too-much-reactivity"><i class="fa fa-check"></i><b>6.2.2</b> Too much reactivity</a></li>
<li class="chapter" data-level="6.2.3" data-path="matters.html"><a href="matters.html#too-much-interactivity"><i class="fa fa-check"></i><b>6.2.3</b> Too much interactivity</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="matters.html"><a href="matters.html#web-accessibility"><i class="fa fa-check"></i><b>6.3</b> Web Accessibility</a><ul>
<li class="chapter" data-level="6.3.1" data-path="matters.html"><a href="matters.html#about-accessibility"><i class="fa fa-check"></i><b>6.3.1</b> About Accessibility</a></li>
<li class="chapter" data-level="6.3.2" data-path="matters.html"><a href="matters.html#making-your-app-accessible"><i class="fa fa-check"></i><b>6.3.2</b> Making your App Accessible</a></li>
<li class="chapter" data-level="6.3.3" data-path="matters.html"><a href="matters.html#evaluating-your-app-accessibility-further-reading"><i class="fa fa-check"></i><b>6.3.3</b> Evaluating your App Accessibility &amp; Further reading</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="step-design.html"><a href="step-design.html"><i class="fa fa-check"></i><b>7</b> Don’t rush into coding</a><ul>
<li class="chapter" data-level="7.1" data-path="step-design.html"><a href="step-design.html#designing-before-coding"><i class="fa fa-check"></i><b>7.1</b> Designing before coding</a><ul>
<li class="chapter" data-level="7.1.1" data-path="step-design.html"><a href="step-design.html#the-urge-to-code"><i class="fa fa-check"></i><b>7.1.1</b> The Urge to Code</a></li>
<li class="chapter" data-level="7.1.2" data-path="step-design.html"><a href="step-design.html#knowing-where-to-search"><i class="fa fa-check"></i><b>7.1.2</b> Knowing where to search</a></li>
<li class="chapter" data-level="7.1.3" data-path="step-design.html"><a href="step-design.html#about-concept-map"><i class="fa fa-check"></i><b>7.1.3</b> About Concept Map</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="step-design.html"><a href="step-design.html#ask-questions"><i class="fa fa-check"></i><b>7.2</b> Ask questions</a><ul>
<li class="chapter" data-level="7.2.1" data-path="step-design.html"><a href="step-design.html#about-the-end-users"><i class="fa fa-check"></i><b>7.2.1</b> About the end users</a></li>
<li class="chapter" data-level="7.2.2" data-path="step-design.html"><a href="step-design.html#building-personas"><i class="fa fa-check"></i><b>7.2.2</b> Building personas</a></li>
<li class="chapter" data-level="7.2.3" data-path="step-design.html"><a href="step-design.html#pre-existing-code-base"><i class="fa fa-check"></i><b>7.2.3</b> Pre-existing code-base</a></li>
<li class="chapter" data-level="7.2.4" data-path="step-design.html"><a href="step-design.html#deployment"><i class="fa fa-check"></i><b>7.2.4</b> Deployment</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Step 2: Prototype</b></span></li>
<li class="chapter" data-level="8" data-path="setting-up-for-success-with-golem-settingupsuccess.html"><a href="setting-up-for-success-with-golem-settingupsuccess.html"><i class="fa fa-check"></i><b>8</b> Setting up for success with <code>{golem}</code> (#settingupsuccess)</a><ul>
<li class="chapter" data-level="8.1" data-path="setting-up-for-success-with-golem-settingupsuccess.html"><a href="setting-up-for-success-with-golem-settingupsuccess.html#create-a-golem"><i class="fa fa-check"></i><b>8.1</b> Create a <code>{golem}</code></a></li>
<li class="chapter" data-level="8.2" data-path="setting-up-for-success-with-golem-settingupsuccess.html"><a href="setting-up-for-success-with-golem-settingupsuccess.html#setting-things-up-with-dev01_start.r"><i class="fa fa-check"></i><b>8.2</b> Setting things up with <code>dev/01_start.R</code></a><ul>
<li class="chapter" data-level="8.2.1" data-path="setting-up-for-success-with-golem-settingupsuccess.html"><a href="setting-up-for-success-with-golem-settingupsuccess.html#fill-the-description-and-set-options"><i class="fa fa-check"></i><b>8.2.1</b> Fill the DESCRIPTION and set options</a></li>
<li class="chapter" data-level="8.2.2" data-path="setting-up-for-success-with-golem-settingupsuccess.html"><a href="setting-up-for-success-with-golem-settingupsuccess.html#set-common-files"><i class="fa fa-check"></i><b>8.2.2</b> Set common Files</a></li>
<li class="chapter" data-level="8.2.3" data-path="setting-up-for-success-with-golem-settingupsuccess.html"><a href="setting-up-for-success-with-golem-settingupsuccess.html#use-recommended-elements"><i class="fa fa-check"></i><b>8.2.3</b> Use Recommended Elements</a></li>
<li class="chapter" data-level="8.2.4" data-path="setting-up-for-success-with-golem-settingupsuccess.html"><a href="setting-up-for-success-with-golem-settingupsuccess.html#add-utilitary-functions"><i class="fa fa-check"></i><b>8.2.4</b> Add utilitary functions</a></li>
<li class="chapter" data-level="8.2.5" data-path="setting-up-for-success-with-golem-settingupsuccess.html"><a href="setting-up-for-success-with-golem-settingupsuccess.html#changing-the-favicon"><i class="fa fa-check"></i><b>8.2.5</b> Changing the favicon</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="setting-up-for-success-with-golem-settingupsuccess.html"><a href="setting-up-for-success-with-golem-settingupsuccess.html#setting-infrastructure-for-prototyping"><i class="fa fa-check"></i><b>8.3</b> Setting infrastructure for prototyping</a><ul>
<li class="chapter" data-level="8.3.1" data-path="setting-up-for-success-with-golem-settingupsuccess.html"><a href="setting-up-for-success-with-golem-settingupsuccess.html#add-modules-in-dev02_dev.r"><i class="fa fa-check"></i><b>8.3.1</b> Add modules in <code>dev/02_dev.R</code></a></li>
<li class="chapter" data-level="8.3.2" data-path="setting-up-for-success-with-golem-settingupsuccess.html"><a href="setting-up-for-success-with-golem-settingupsuccess.html#add-css-js-files"><i class="fa fa-check"></i><b>8.3.2</b> Add CSS &amp; JS Files</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="stepprotopype.html"><a href="stepprotopype.html"><i class="fa fa-check"></i><b>9</b> Building an “ipsum-app”</a><ul>
<li class="chapter" data-level="9.1" data-path="stepprotopype.html"><a href="stepprotopype.html#prototyping-is-crucial"><i class="fa fa-check"></i><b>9.1</b> Prototyping is crucial</a><ul>
<li class="chapter" data-level="9.1.1" data-path="stepprotopype.html"><a href="stepprotopype.html#prototype-then-polish"><i class="fa fa-check"></i><b>9.1.1</b> Prototype, then polish</a></li>
<li class="chapter" data-level="9.1.2" data-path="stepprotopype.html"><a href="stepprotopype.html#the-ui-first-approach"><i class="fa fa-check"></i><b>9.1.2</b> The “UI first” approach</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="stepprotopype.html"><a href="stepprotopype.html#prototyping-shiny"><i class="fa fa-check"></i><b>9.2</b> Prototyping <code>{shiny}</code></a><ul>
<li class="chapter" data-level="9.2.1" data-path="stepprotopype.html"><a href="stepprotopype.html#fast-ui-prototyping-with-shinipsum"><i class="fa fa-check"></i><b>9.2.1</b> Fast UI Prototyping with <code>{shinipsum}</code></a></li>
<li class="chapter" data-level="9.2.2" data-path="stepprotopype.html"><a href="stepprotopype.html#using-fakir-for-fake-data-generation"><i class="fa fa-check"></i><b>9.2.2</b> Using <code>{fakir}</code> for fake data generation</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="stepprotopype.html"><a href="stepprotopype.html#proto-rmdfirst"><i class="fa fa-check"></i><b>9.3</b> Building with RMarkdown</a><ul>
<li class="chapter" data-level="9.3.1" data-path="stepprotopype.html"><a href="stepprotopype.html#define-the-content-of-the-application"><i class="fa fa-check"></i><b>9.3.1</b> Define the content of the application</a></li>
<li class="chapter" data-level="9.3.2" data-path="stepprotopype.html"><a href="stepprotopype.html#using-the-rmd-files-as-a-laboratory-notebook"><i class="fa fa-check"></i><b>9.3.2</b> Using the Rmd files as a laboratory notebook</a></li>
<li class="chapter" data-level="9.3.3" data-path="stepprotopype.html"><a href="stepprotopype.html#rmd-vignettes-and-documentation-first"><i class="fa fa-check"></i><b>9.3.3</b> Rmd, Vignettes, and documentation first</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Step 3: Build</b></span></li>
<li class="chapter" data-level="10" data-path="stepbuild.html"><a href="stepbuild.html"><i class="fa fa-check"></i><b>10</b> Building the app with <code>{golem}</code></a><ul>
<li class="chapter" data-level="10.1" data-path="stepbuild.html"><a href="stepbuild.html#add-dependencies"><i class="fa fa-check"></i><b>10.1</b> Add dependencies</a><ul>
<li class="chapter" data-level="10.1.1" data-path="stepbuild.html"><a href="stepbuild.html#package-dependencies"><i class="fa fa-check"></i><b>10.1.1</b> Package dependencies</a></li>
<li class="chapter" data-level="10.1.2" data-path="stepbuild.html"><a href="stepbuild.html#importing-packages-and-functions"><i class="fa fa-check"></i><b>10.1.2</b> Importing packages and functions</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="stepbuild.html"><a href="stepbuild.html#submodules-and-utility-functions"><i class="fa fa-check"></i><b>10.2</b> Submodules and utility functions</a></li>
<li class="chapter" data-level="10.3" data-path="stepbuild.html"><a href="stepbuild.html#add-tests"><i class="fa fa-check"></i><b>10.3</b> Add tests</a></li>
<li class="chapter" data-level="10.4" data-path="stepbuild.html"><a href="stepbuild.html#documentation-and-code-coverage"><i class="fa fa-check"></i><b>10.4</b> Documentation and Code Coverage</a><ul>
<li class="chapter" data-level="10.4.1" data-path="stepbuild.html"><a href="stepbuild.html#vignette"><i class="fa fa-check"></i><b>10.4.1</b> Vignette</a></li>
<li class="chapter" data-level="10.4.2" data-path="stepbuild.html"><a href="stepbuild.html#code-coverage-continuous-integration"><i class="fa fa-check"></i><b>10.4.2</b> Code Coverage &amp; Continuous Integration</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="stepbuild.html"><a href="stepbuild.html#using-golem-dev-functions"><i class="fa fa-check"></i><b>10.5</b> Using <code>{golem}</code> dev functions</a></li>
</ul></li>
<li class="part"><span><b>V Step 4: Strengthen</b></span></li>
<li class="chapter" data-level="11" data-path="step-secure.html"><a href="step-secure.html"><i class="fa fa-check"></i><b>11</b> Build yourself a safety net</a><ul>
<li class="chapter" data-level="11.1" data-path="step-secure.html"><a href="step-secure.html#testing-your-app"><i class="fa fa-check"></i><b>11.1</b> Testing your app</a><ul>
<li class="chapter" data-level="11.1.1" data-path="step-secure.html"><a href="step-secure.html#testing-the-business-logic"><i class="fa fa-check"></i><b>11.1.1</b> Testing the business logic</a></li>
<li class="chapter" data-level="11.1.2" data-path="step-secure.html"><a href="step-secure.html#shinytestserver"><i class="fa fa-check"></i><b>11.1.2</b> <code>shiny::testServer()</code></a></li>
<li class="chapter" data-level="11.1.3" data-path="step-secure.html"><a href="step-secure.html#testing-the-interactive-logic"><i class="fa fa-check"></i><b>11.1.3</b> Testing the interactive logic</a></li>
<li class="chapter" data-level="11.1.4" data-path="step-secure.html"><a href="step-secure.html#testing-the-app-load"><i class="fa fa-check"></i><b>11.1.4</b> Testing the app load</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="step-secure.html"><a href="step-secure.html#a-reproducible-environment"><i class="fa fa-check"></i><b>11.2</b> A reproducible environment</a><ul>
<li class="chapter" data-level="11.2.1" data-path="step-secure.html"><a href="step-secure.html#renv"><i class="fa fa-check"></i><b>11.2.1</b> <code>{renv}</code></a></li>
<li class="chapter" data-level="11.2.2" data-path="step-secure.html"><a href="step-secure.html#docker"><i class="fa fa-check"></i><b>11.2.2</b> Docker</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="secure.html"><a href="secure.html"><i class="fa fa-check"></i><b>12</b> Version Control</a><ul>
<li class="chapter" data-level="12.1" data-path="secure.html"><a href="secure.html#version-control"><i class="fa fa-check"></i><b>12.1</b> Using Version Control with <code>git</code></a><ul>
<li class="chapter" data-level="12.1.1" data-path="secure.html"><a href="secure.html#why-version-control"><i class="fa fa-check"></i><b>12.1.1</b> Why Version Control?</a></li>
<li class="chapter" data-level="12.1.2" data-path="secure.html"><a href="secure.html#git-basics-add---commit---push---pull"><i class="fa fa-check"></i><b>12.1.2</b> <code>Git</code> basics: <code>add</code> - <code>commit</code> - <code>push</code> - <code>pull</code></a></li>
<li class="chapter" data-level="12.1.3" data-path="secure.html"><a href="secure.html#about-branches"><i class="fa fa-check"></i><b>12.1.3</b> About branches</a></li>
<li class="chapter" data-level="12.1.4" data-path="secure.html"><a href="secure.html#issues"><i class="fa fa-check"></i><b>12.1.4</b> Issues</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="secure.html"><a href="secure.html#git-integration"><i class="fa fa-check"></i><b>12.2</b> Git integration</a><ul>
<li class="chapter" data-level="12.2.1" data-path="secure.html"><a href="secure.html#with-rstudio"><i class="fa fa-check"></i><b>12.2.1</b> With RStudio</a></li>
<li class="chapter" data-level="12.2.2" data-path="secure.html"><a href="secure.html#as-part-of-a-larger-world"><i class="fa fa-check"></i><b>12.2.2</b> As part of a larger world</a></li>
<li class="chapter" data-level="12.2.3" data-path="secure.html"><a href="secure.html#about-git-flow"><i class="fa fa-check"></i><b>12.2.3</b> About <code>git-flow</code></a></li>
<li class="chapter" data-level="12.2.4" data-path="secure.html"><a href="secure.html#further-readings-on-git"><i class="fa fa-check"></i><b>12.2.4</b> Further readings on <code>git</code></a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="secure.html"><a href="secure.html#automated-testing"><i class="fa fa-check"></i><b>12.3</b> Automated testing</a></li>
</ul></li>
<li class="part"><span><b>VI Step 5: Deploy</b></span></li>
<li class="chapter" data-level="13" data-path="deploy-golem.html"><a href="deploy-golem.html"><i class="fa fa-check"></i><b>13</b> Deploy your application</a><ul>
<li class="chapter" data-level="13.1" data-path="deploy-golem.html"><a href="deploy-golem.html#before-deployment-check-list"><i class="fa fa-check"></i><b>13.1</b> Before deployment Check-list</a></li>
<li class="chapter" data-level="13.2" data-path="deploy-golem.html"><a href="deploy-golem.html#sharing-your-app-as-a-package"><i class="fa fa-check"></i><b>13.2</b> Sharing your app as a package</a><ul>
<li class="chapter" data-level="13.2.1" data-path="deploy-golem.html"><a href="deploy-golem.html#install-on-your-machine"><i class="fa fa-check"></i><b>13.2.1</b> Install on your machine</a></li>
<li class="chapter" data-level="13.2.2" data-path="deploy-golem.html"><a href="deploy-golem.html#share-as-built-package"><i class="fa fa-check"></i><b>13.2.2</b> Share as built package</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="deploy-golem.html"><a href="deploy-golem.html#deploying-apps-with-golem"><i class="fa fa-check"></i><b>13.3</b> Deploying Apps with <code>{golem}</code></a><ul>
<li class="chapter" data-level="13.3.1" data-path="deploy-golem.html"><a href="deploy-golem.html#rstudio-environments"><i class="fa fa-check"></i><b>13.3.1</b> RStudio Environments</a></li>
<li class="chapter" data-level="13.3.2" data-path="deploy-golem.html"><a href="deploy-golem.html#docker-1"><i class="fa fa-check"></i><b>13.3.2</b> Docker</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>VII Optimizing</b></span></li>
<li class="chapter" data-level="14" data-path="when-optimize.html"><a href="when-optimize.html"><i class="fa fa-check"></i><b>14</b> The Need for Optimization</a><ul>
<li class="chapter" data-level="14.1" data-path="when-optimize.html"><a href="when-optimize.html#build-first-then-optimize"><i class="fa fa-check"></i><b>14.1</b> Build first, then optimize</a><ul>
<li class="chapter" data-level="14.1.1" data-path="when-optimize.html"><a href="when-optimize.html#identifying-bottlenecks"><i class="fa fa-check"></i><b>14.1.1</b> Identifying bottlenecks</a></li>
<li class="chapter" data-level="14.1.2" data-path="when-optimize.html"><a href="when-optimize.html#do-you-need-faster-functions"><i class="fa fa-check"></i><b>14.1.2</b> Do you need faster functions?</a></li>
<li class="chapter" data-level="14.1.3" data-path="when-optimize.html"><a href="when-optimize.html#dont-sacrifice-readability"><i class="fa fa-check"></i><b>14.1.3</b> Don’t sacrifice readability</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="when-optimize.html"><a href="when-optimize.html#tools-for-profiling"><i class="fa fa-check"></i><b>14.2</b> Tools for profiling</a><ul>
<li class="chapter" data-level="14.2.1" data-path="when-optimize.html"><a href="when-optimize.html#profiling-r-code"><i class="fa fa-check"></i><b>14.2.1</b> Profiling R code</a></li>
<li class="chapter" data-level="14.2.2" data-path="when-optimize.html"><a href="when-optimize.html#profiling-shiny"><i class="fa fa-check"></i><b>14.2.2</b> Profiling <code>{shiny}</code></a></li>
<li class="chapter" data-level="14.2.3" data-path="when-optimize.html"><a href="when-optimize.html#more-resources-about-web-page-performance"><i class="fa fa-check"></i><b>14.2.3</b> More resources about web page performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="optim-caveat.html"><a href="optim-caveat.html"><i class="fa fa-check"></i><b>15</b> Common Application Caveats</a><ul>
<li class="chapter" data-level="15.1" data-path="optim-caveat.html"><a href="optim-caveat.html#reactivity-anti-patterns"><i class="fa fa-check"></i><b>15.1</b> Reactivity anti-patterns</a><ul>
<li class="chapter" data-level="15.1.1" data-path="optim-caveat.html"><a href="optim-caveat.html#reactivity-is-awesome-until-it-is-not"><i class="fa fa-check"></i><b>15.1.1</b> Reactivity is awesome… until it is not</a></li>
<li class="chapter" data-level="15.1.2" data-path="optim-caveat.html"><a href="optim-caveat.html#observe-vs-observeevent"><i class="fa fa-check"></i><b>15.1.2</b> <code>observe</code> vs <code>observeEvent</code></a></li>
<li class="chapter" data-level="15.1.3" data-path="optim-caveat.html"><a href="optim-caveat.html#building-triggers-and-watchers"><i class="fa fa-check"></i><b>15.1.3</b> Building triggers and watchers</a></li>
<li class="chapter" data-level="15.1.4" data-path="optim-caveat.html"><a href="optim-caveat.html#using-r6-as-a-data-storage"><i class="fa fa-check"></i><b>15.1.4</b> Using R6 as a data storage</a></li>
<li class="chapter" data-level="15.1.5" data-path="optim-caveat.html"><a href="optim-caveat.html#logging-reactivity-with-whereami"><i class="fa fa-check"></i><b>15.1.5</b> Logging reactivity with <code>{whereami}</code></a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="optim-caveat.html"><a href="optim-caveat.html#r-does-too-much"><i class="fa fa-check"></i><b>15.2</b> R does too much</a><ul>
<li class="chapter" data-level="15.2.1" data-path="optim-caveat.html"><a href="optim-caveat.html#rendering-ui-from-server-side"><i class="fa fa-check"></i><b>15.2.1</b> Rendering UI from server side</a></li>
<li class="chapter" data-level="15.2.2" data-path="optim-caveat.html"><a href="optim-caveat.html#too-much-data-in-memory"><i class="fa fa-check"></i><b>15.2.2</b> Too Much Data in Memory</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="optim-caveat.html"><a href="optim-caveat.html#reading-data"><i class="fa fa-check"></i><b>15.3</b> Reading data</a><ul>
<li class="chapter" data-level="15.3.1" data-path="optim-caveat.html"><a href="optim-caveat.html#including-data-in-your-application"><i class="fa fa-check"></i><b>15.3.1</b> Including Data in your Application</a></li>
<li class="chapter" data-level="15.3.2" data-path="optim-caveat.html"><a href="optim-caveat.html#reading-external-datasets"><i class="fa fa-check"></i><b>15.3.2</b> Reading External Datasets</a></li>
<li class="chapter" data-level="15.3.3" data-path="optim-caveat.html"><a href="optim-caveat.html#using-external-databases"><i class="fa fa-check"></i><b>15.3.3</b> Using External DataBases</a></li>
<li class="chapter" data-level="15.3.4" data-path="optim-caveat.html"><a href="optim-caveat.html#data-source-checklist"><i class="fa fa-check"></i><b>15.3.4</b> Data Source Checklist</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="optimizing-shiny-code.html"><a href="optimizing-shiny-code.html"><i class="fa fa-check"></i><b>16</b> Optimizing <code>{shiny}</code> Code</a><ul>
<li class="chapter" data-level="16.1" data-path="optimizing-shiny-code.html"><a href="optimizing-shiny-code.html#optimizing-r-code"><i class="fa fa-check"></i><b>16.1</b> Optimizing R code</a></li>
<li class="chapter" data-level="16.2" data-path="optimizing-shiny-code.html"><a href="optimizing-shiny-code.html#caching-elements"><i class="fa fa-check"></i><b>16.2</b> Caching elements</a><ul>
<li class="chapter" data-level="16.2.1" data-path="optimizing-shiny-code.html"><a href="optimizing-shiny-code.html#what-is-caching"><i class="fa fa-check"></i><b>16.2.1</b> What is caching?</a></li>
<li class="chapter" data-level="16.2.2" data-path="optimizing-shiny-code.html"><a href="optimizing-shiny-code.html#native-caching-in-r"><i class="fa fa-check"></i><b>16.2.2</b> Native Caching in R</a></li>
<li class="chapter" data-level="16.2.3" data-path="optimizing-shiny-code.html"><a href="optimizing-shiny-code.html#caching-in-shiny"><i class="fa fa-check"></i><b>16.2.3</b> Caching in <code>{shiny}</code></a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="optimizing-shiny-code.html"><a href="optimizing-shiny-code.html#asynchronous-in-shiny"><i class="fa fa-check"></i><b>16.3</b> Asynchronous in <code>{shiny}</code></a><ul>
<li class="chapter" data-level="16.3.1" data-path="optimizing-shiny-code.html"><a href="optimizing-shiny-code.html#how-to"><i class="fa fa-check"></i><b>16.3.1</b> How to</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="optimjs.html"><a href="optimjs.html"><i class="fa fa-check"></i><b>17</b> Using JavaScript</a><ul>
<li class="chapter" data-level="17.1" data-path="optimjs.html"><a href="optimjs.html#introduction-1"><i class="fa fa-check"></i><b>17.1</b> Introduction</a></li>
<li class="chapter" data-level="17.2" data-path="optimjs.html"><a href="optimjs.html#a-quick-introduction-to-javascript"><i class="fa fa-check"></i><b>17.2</b> A quick introduction to JavaScript</a><ul>
<li class="chapter" data-level="17.2.1" data-path="optimjs.html"><a href="optimjs.html#about-javascript"><i class="fa fa-check"></i><b>17.2.1</b> About JavaScript</a></li>
<li class="chapter" data-level="17.2.2" data-path="optimjs.html"><a href="optimjs.html#including-javascript-code-in-your-app"><i class="fa fa-check"></i><b>17.2.2</b> Including JavaScript code in your app</a></li>
<li class="chapter" data-level="17.2.3" data-path="optimjs.html"><a href="optimjs.html#understanding-html-class-and-id"><i class="fa fa-check"></i><b>17.2.3</b> Understanding html, class, and id</a></li>
<li class="chapter" data-level="17.2.4" data-path="optimjs.html"><a href="optimjs.html#querying-in-vanilla-javascript"><i class="fa fa-check"></i><b>17.2.4</b> Querying in Vanilla JavaScript</a></li>
<li class="chapter" data-level="17.2.5" data-path="optimjs.html"><a href="optimjs.html#about-dom-events"><i class="fa fa-check"></i><b>17.2.5</b> About DOM events</a></li>
<li class="chapter" data-level="17.2.6" data-path="optimjs.html"><a href="optimjs.html#about-jquery-jquery-selectors"><i class="fa fa-check"></i><b>17.2.6</b> About <code>jQuery</code> &amp; <code>jQuery</code> selectors</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="optimjs.html"><a href="optimjs.html#client-side-javascript"><i class="fa fa-check"></i><b>17.3</b> Client-side JavaScript</a><ul>
<li class="chapter" data-level="17.3.1" data-path="optimjs.html"><a href="optimjs.html#common-patterns"><i class="fa fa-check"></i><b>17.3.1</b> Common patterns</a></li>
<li class="chapter" data-level="17.3.2" data-path="optimjs.html"><a href="optimjs.html#where-to-put-them---back-to-javascript-events"><i class="fa fa-check"></i><b>17.3.2</b> Where to put them - Back to JavaScript Events</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="optimjs.html"><a href="optimjs.html#javascript---shiny-communication"><i class="fa fa-check"></i><b>17.4</b> JavaScript &lt;-&gt; <code>{shiny}</code> communication</a><ul>
<li class="chapter" data-level="17.4.1" data-path="optimjs.html"><a href="optimjs.html#from-r-to-javascript"><i class="fa fa-check"></i><b>17.4.1</b> From R to JavaScript</a></li>
<li class="chapter" data-level="17.4.2" data-path="optimjs.html"><a href="optimjs.html#from-javascript-to-r"><i class="fa fa-check"></i><b>17.4.2</b> From JavaScript to R</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="optimjs.html"><a href="optimjs.html#about-shinyjs-js-functions"><i class="fa fa-check"></i><b>17.5</b> About <code>{shinyjs}</code> js functions</a></li>
<li class="chapter" data-level="17.6" data-path="optimjs.html"><a href="optimjs.html#one-last-thing-api-calls"><i class="fa fa-check"></i><b>17.6</b> One Last Thing: API calls</a></li>
<li class="chapter" data-level="17.7" data-path="optimjs.html"><a href="optimjs.html#learn-more-about-javascript"><i class="fa fa-check"></i><b>17.7</b> Learn more about JavaScript</a><ul>
<li class="chapter" data-level="17.7.1" data-path="optimjs.html"><a href="optimjs.html#shiny-javascript"><i class="fa fa-check"></i><b>17.7.1</b> <code>{shiny}</code> &amp; JavaScript</a></li>
<li class="chapter" data-level="17.7.2" data-path="optimjs.html"><a href="optimjs.html#javascript-basics"><i class="fa fa-check"></i><b>17.7.2</b> JavaScript basics</a></li>
<li class="chapter" data-level="17.7.3" data-path="optimjs.html"><a href="optimjs.html#jquery"><i class="fa fa-check"></i><b>17.7.3</b> jQuery</a></li>
<li class="chapter" data-level="17.7.4" data-path="optimjs.html"><a href="optimjs.html#intermediate-advanced-javascript"><i class="fa fa-check"></i><b>17.7.4</b> Intermediate / advanced JavaScript</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="css.html"><a href="css.html"><i class="fa fa-check"></i><b>18</b> A Gentle Introduction to CSS</a><ul>
<li class="chapter" data-level="18.1" data-path="css.html"><a href="css.html#what-is-css"><i class="fa fa-check"></i><b>18.1</b> What is CSS</a><ul>
<li class="chapter" data-level="18.1.1" data-path="css.html"><a href="css.html#about-css"><i class="fa fa-check"></i><b>18.1.1</b> About CSS</a></li>
<li class="chapter" data-level="18.1.2" data-path="css.html"><a href="css.html#shinys-default-fluidpage"><i class="fa fa-check"></i><b>18.1.2</b> <code>{shiny}</code>’s default: <code>fluidPage()</code></a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="css.html"><a href="css.html#getting-started-with-css"><i class="fa fa-check"></i><b>18.2</b> Getting started with CSS</a><ul>
<li class="chapter" data-level="18.2.1" data-path="css.html"><a href="css.html#about-css-syntax"><i class="fa fa-check"></i><b>18.2.1</b> About CSS syntax</a></li>
<li class="chapter" data-level="18.2.2" data-path="css.html"><a href="css.html#css-selectors"><i class="fa fa-check"></i><b>18.2.2</b> CSS selectors</a></li>
<li class="chapter" data-level="18.2.3" data-path="css.html"><a href="css.html#css-properties"><i class="fa fa-check"></i><b>18.2.3</b> CSS properties</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="css.html"><a href="css.html#integrate-css-files-to-your-shiny-app"><i class="fa fa-check"></i><b>18.3</b> Integrate CSS files to your <code>{shiny}</code> App</a><ul>
<li class="chapter" data-level="18.3.1" data-path="css.html"><a href="css.html#inline-css"><i class="fa fa-check"></i><b>18.3.1</b> Inline CSS</a></li>
<li class="chapter" data-level="18.3.2" data-path="css.html"><a href="css.html#writing-in-a-tagsstyle"><i class="fa fa-check"></i><b>18.3.2</b> Writing in a <code>tags$style()</code></a></li>
<li class="chapter" data-level="18.3.3" data-path="css.html"><a href="css.html#including-external-files"><i class="fa fa-check"></i><b>18.3.3</b> Including External Files</a></li>
<li class="chapter" data-level="18.3.4" data-path="css.html"><a href="css.html#using-r-packages"><i class="fa fa-check"></i><b>18.3.4</b> Using R packages</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="css.html"><a href="css.html#external-resources"><i class="fa fa-check"></i><b>18.4</b> External resources</a></li>
</ul></li>
<li class="part"><span><b>VIII Appendix</b></span></li>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html"><i class="fa fa-check"></i>Use case - Building an App, from Start to Finish (#usecase)</a><ul>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#about-the-application"><i class="fa fa-check"></i>About the application</a></li>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#step-1-design-1"><i class="fa fa-check"></i>Step 1: Design</a><ul>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#deciphering-the-specifications"><i class="fa fa-check"></i>Deciphering the Specifications</a></li>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#building-a-concept-map"><i class="fa fa-check"></i>Building a Concept Map</a></li>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#asking-questions"><i class="fa fa-check"></i>Asking Questions</a></li>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#building-personas-1"><i class="fa fa-check"></i>Building personas</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#step-2-prototyping"><i class="fa fa-check"></i>Step 2: Prototyping</a><ul>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#backend-in-rmd"><i class="fa fa-check"></i>Backend in Rmd</a></li>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#ui-prototyping"><i class="fa fa-check"></i>UI prototyping</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#step-3-build-1"><i class="fa fa-check"></i>Step 3: Build</a></li>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#step-4-strengthen-1"><i class="fa fa-check"></i>Step 4: Strengthen</a></li>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#step-5-deploy-1"><i class="fa fa-check"></i>Step 5: Deploy</a><ul>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#before-deploy-checklist"><i class="fa fa-check"></i>Before deploy checklist</a></li>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#deploy-as-a-tar.gz"><i class="fa fa-check"></i>Deploy as a tar.gz</a></li>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#deploy-on-rstudio-connect"><i class="fa fa-check"></i>Deploy on RStudio Connect</a></li>
<li class="chapter" data-level="" data-path="use-case-building-an-app-from-start-to-finish-usecase.html"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#deploy-with-docker"><i class="fa fa-check"></i>Deploy with Docker</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="session-info.html"><a href="session-info.html"><i class="fa fa-check"></i>Session Info</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://rtask.thinkr.fr">A book by the ThinkR team</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Engineering Production-Grade Shiny Apps</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="use-case---building-an-app-from-start-to-finish-usecase" class="section level1 unnumbered">
<h1>Use case - Building an App, from Start to Finish (#usecase)</h1>
<p>This chapter aims at exemplifying the workflow developed in this book using a “real life” example.
In this appendix, we will be building a <code>{shiny}</code> application from start to finish.
We’ve chosen to built an application that doesn’t rely on heavy computation/data analysis, so that we can focus on the engineering process, not on the internals of the analytic methology, nor on spending time explaining the dataset.</p>
<div id="about-the-application" class="section level2 unnumbered">
<h2>About the application</h2>
<p>In this appendix, we will build a “minify” application, an application that takes a CSS, JavaScript, HTML or JSON input, and output a minified version of this file.
We will rely on the <code>{minifyr}</code> package to build this application</p>
<p>Here is for example what the specifications for this app could look like</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode txt"><code class="sourceCode default"><span id="cb349-1"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb349-1"></a>Hello! </span>
<span id="cb349-2"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb349-2"></a></span>
<span id="cb349-3"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb349-3"></a>We want to build a small application that can minify CSS, JavaScript, HTML and JSON. </span>
<span id="cb349-4"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb349-4"></a></span>
<span id="cb349-5"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb349-5"></a>In this app, user will be able either to paste the content or to upload a file. </span>
<span id="cb349-6"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb349-6"></a></span>
<span id="cb349-7"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb349-7"></a>Once the content is pasted/upladed, they select the type, which is pre-selected based on the file extension. </span>
<span id="cb349-8"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb349-8"></a>Then they click on a button, and the content is minified. </span>
<span id="cb349-9"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb349-9"></a></span>
<span id="cb349-10"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb349-10"></a>They can then copy the output, or download it as a file. </span>
<span id="cb349-11"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb349-11"></a></span>
<span id="cb349-12"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb349-12"></a>Cheers!</span></code></pre></div>
</div>
<div id="step-1-design-1" class="section level2 unnumbered">
<h2>Step 1: Design</h2>
<div id="deciphering-the-specifications" class="section level3 unnumbered">
<h3>Deciphering the Specifications</h3>
<div id="general-observations" class="section level4 unnumbered">
<h4>General Observations</h4>
<ul>
<li><p>As this app is pretty straightforward, it would be better to handle everything in the same page, <em>i.e</em> everything should happen on the same page (no tab)</p></li>
<li><p>It would be a plus to have the “before minification” / “after minification” gain, so that the users have a better idea of the purpose of the application</p></li>
</ul>
</div>
<div id="user-experience-considerations" class="section level4 unnumbered">
<h4>User Experience Considerations</h4>
<ul>
<li><p>We should provide a link to an explanation of what is minification</p></li>
<li><p>User might get different result based on what minifying algorithm they use, which can be surprising at first.
The application should alert about this.</p></li>
<li><p>For long printed outputs, if we use <code>verbatimTextOuput</code>, we should be careful about the page width, as these elements will natively overflow on the x-axis of the page.
This should be doable with the following CSS: <code>pre{ white-space: pre-wrap; word-break: keep-all; }</code></p></li>
<li><p>We should be careful about using semantic html for the inputs and output</p></li>
</ul>
</div>
<div id="technical-points" class="section level4 unnumbered">
<h4>Technical Points</h4>
<ul>
<li><p>As <code>{minifyr}</code> wraps a NodeJS module, we will need to install NodeJS when deploying</p></li>
<li><p>To be sure that the process works, we should check the validity of the file extension from the UI and from the server side</p></li>
</ul>
</div>
</div>
<div id="building-a-concept-map" class="section level3 unnumbered">
<h3>Building a Concept Map</h3>
<p>Here is the concept map for this application, using Xmind.</p>

</div>
<div id="asking-questions" class="section level3 unnumbered">
<h3>Asking Questions</h3>
<div id="about-the-end-users-1" class="section level4 unnumbered">
<h4>About the end users</h4>
<ul>
<li><em>Who are the end users of your app?</em></li>
</ul>
<p>This application is mainly useful for web-developers.</p>
<ul>
<li><em>Are they tech-literate?</em></li>
</ul>
<p>Yes.</p>
<ul>
<li><em>In which context will they be using your app?</em></li>
</ul>
<p>Notably at work, or while building pet projects.</p>
<ul>
<li><em>On what machines?</em></li>
</ul>
<p>Laptop/personal computer.
Small chance of using this on a smartphone.</p>
<ul>
<li><em>What browser version will they be using?</em></li>
</ul>
<p>Hard to say, but given that we aim for a public of developers, probably modern browsers.</p>
<ul>
<li><em>Will they be using the app in their office, on their phone while driving a tractor, in a plant, while wearing lab coats?</em></li>
</ul>
<p>Nothing of the like: they should be using this application while developing, so chances are they are using it at a desk.</p>
</div>
</div>
<div id="building-personas-1" class="section level3 unnumbered">
<h3>Building personas</h3>
<p>Let’s pick two random names for our personas, and two fake companies where they might be working at.</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb350-1"></a>nms &lt;-<span class="st"> </span>withr<span class="op">::</span><span class="kw">with_seed</span>(</span>
<span id="cb350-2"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb350-2"></a>  <span class="dv">608</span>, {</span>
<span id="cb350-3"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb350-3"></a>    charlatan<span class="op">::</span><span class="kw">ch_name</span>(<span class="dv">2</span>)</span>
<span id="cb350-4"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb350-4"></a>    </span>
<span id="cb350-5"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb350-5"></a>  }</span>
<span id="cb350-6"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb350-6"></a>)</span>
<span id="cb350-7"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb350-7"></a>nms</span></code></pre></div>
<pre><code>[1] &quot;Delina Stanton&quot; &quot;Theo Torphy&quot;   </code></pre>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb352-1"></a>company &lt;-<span class="st"> </span>withr<span class="op">::</span><span class="kw">with_seed</span>(</span>
<span id="cb352-2"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb352-2"></a>  <span class="dv">608</span>, {</span>
<span id="cb352-3"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb352-3"></a>    charlatan<span class="op">::</span><span class="kw">ch_company</span>(<span class="dv">2</span>)</span>
<span id="cb352-4"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb352-4"></a>  }</span>
<span id="cb352-5"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb352-5"></a>)</span>
<span id="cb352-6"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb352-6"></a>company</span></code></pre></div>
<pre><code>[1] &quot;Witting-Witting&quot; &quot;Stehr-Stehr&quot;    </code></pre>
<div id="delina-stanton---shiny-developer-at-witting-witting" class="section level4 unnumbered">
<h4>Delina Stanton - <code>{shiny}</code> developer at Witting-Witting</h4>
<p>Delina Stanton is a <code>{shiny}</code> developer at Witting-Witting.
She’s been learning R at grade-school during her Master’s Degree in statistics.
When she started at Witting-Witting, she was mainly doing data analysis in Rmd, but has gradually switched to building <code>{shiny}</code> applications full-time.
She discovered minification while reading the “Engineering Production-Grade Shiny App” book, and now want to add this to her <code>{shiny}</code> application.</p>
</div>
<div id="theo-torphy---web-developer-and-trainer-at-stehr-stehr" class="section level4 unnumbered">
<h4>Theo Torphy - web developer and trainer at Stehr-Stehr</h4>
<p>Theo Torphy is a web developer at Stehr-Stehr.
He studied web development at the university, where he learned about minification.
He is now also in charge of training new recruits for the company he works at, and also gives some lecture to the university he went to.
Most of the minification he does is automated, but he is looking for a tool he can use during trainings and classes to explain how minification works.</p>
<p>This step is available at <a href="https://github.com/ColinFay/minifying/tree/master/step-1-design">github.com/ColinFay/minifying/step-1-design</a>.</p>
</div>
</div>
</div>
<div id="step-2-prototyping" class="section level2 unnumbered">
<h2>Step 2: Prototyping</h2>
<p>In this step, we will be building the back-end of the application on one side, and the UI on the other side.
Once we have the back-end settled and the UI defined, we will be working on making the two work with each other.</p>
<div id="backend-in-rmd" class="section level3 unnumbered">
<h3>Backend in Rmd</h3>
<p>Our back-end will be composed of two functions:</p>
<ul>
<li><code>guess_minifier</code>, which will take a function, and return the available algorithms for that file: for example, if you have a JavaScript file, you’ll be able to use the <code>minifyr_js_babel()`()`,</code>minifyr_js_gcc()<code>()</code>, <code>minifyr_js_terser()`()`,</code>minifyr_js_uglify()<code>()</code>, and `<code>minifyr_js_yui()</code>()<code>functions.  If the type is not guessed based on the extension, the function should fail gracefully, and not make</code>{shiny}` crash.
We’ll chose to return an empty string if this extension is not guessed.</li>
</ul>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-1"></a><span class="kw">library</span>(minifyr)</span>
<span id="cb354-2"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-2"></a>guess_minifier &lt;-<span class="st"> </span><span class="cf">function</span>(file){</span>
<span id="cb354-3"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-3"></a>  <span class="co"># We&#39;ll start by getting the file extension</span></span>
<span id="cb354-4"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-4"></a>  ext &lt;-<span class="st"> </span>tools<span class="op">::</span><span class="kw">file_ext</span>(file)</span>
<span id="cb354-5"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-5"></a>  <span class="co"># Check that the extension is correct, if not, return early</span></span>
<span id="cb354-6"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-6"></a>  <span class="co"># It&#39;s important to do this kind of check also on the server side </span></span>
<span id="cb354-7"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-7"></a>  <span class="co"># As HTML manual tempering would allow to also send other type of files</span></span>
<span id="cb354-8"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-8"></a>  <span class="cf">if</span> (</span>
<span id="cb354-9"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-9"></a>    <span class="op">!</span><span class="st"> </span>ext <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;js&quot;</span>, <span class="st">&quot;css&quot;</span>, <span class="st">&quot;html&quot;</span>, <span class="st">&quot;json&quot;</span>)</span>
<span id="cb354-10"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-10"></a>  ){</span>
<span id="cb354-11"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-11"></a>    <span class="co"># Return early</span></span>
<span id="cb354-12"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-12"></a>    <span class="kw">return</span>(<span class="kw">list</span>())</span>
<span id="cb354-13"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-13"></a>  }</span>
<span id="cb354-14"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-14"></a>  <span class="co"># We&#39;ll then retrieve the available pattern based on the extension</span></span>
<span id="cb354-15"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-15"></a>  patt &lt;-<span class="st"> </span><span class="cf">switch</span>(</span>
<span id="cb354-16"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-16"></a>    ext, </span>
<span id="cb354-17"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-17"></a>    <span class="dt">js =</span> <span class="st">&quot;minifyr_js_.+&quot;</span>,</span>
<span id="cb354-18"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-18"></a>    <span class="dt">html =</span> <span class="st">&quot;minifyr_html_.+&quot;</span>,</span>
<span id="cb354-19"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-19"></a>    <span class="dt">css =</span> <span class="st">&quot;minifyr_css_.+&quot;</span>,</span>
<span id="cb354-20"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-20"></a>    <span class="dt">json =</span> <span class="st">&quot;minifyr_json_.+&quot;</span></span>
<span id="cb354-21"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-21"></a>  )</span>
<span id="cb354-22"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-22"></a>  <span class="co"># List all the available functions to minify the file</span></span>
<span id="cb354-23"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-23"></a>  <span class="kw">list</span>(</span>
<span id="cb354-24"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-24"></a>    <span class="dt">file =</span> file,</span>
<span id="cb354-25"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-25"></a>    <span class="dt">ext =</span> ext,</span>
<span id="cb354-26"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-26"></a>    <span class="co"># We return this pattern so that it will be used to update the selectInput that </span></span>
<span id="cb354-27"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-27"></a>    <span class="co"># is used to select an algo</span></span>
<span id="cb354-28"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-28"></a>    <span class="dt">pattern =</span> patt, </span>
<span id="cb354-29"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-29"></a>    <span class="dt">functions =</span> <span class="kw">grep</span>(patt, <span class="kw">names</span>(<span class="kw">loadNamespace</span>(<span class="st">&quot;minifyr&quot;</span>)), <span class="dt">value =</span> <span class="ot">TRUE</span>)</span>
<span id="cb354-30"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-30"></a>  )</span>
<span id="cb354-31"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-31"></a>  </span>
<span id="cb354-32"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-32"></a>}</span>
<span id="cb354-33"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-33"></a><span class="kw">options</span>(<span class="dt">width =</span> <span class="dv">10</span>)</span>
<span id="cb354-34"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-34"></a><span class="co"># minifyr comes with a series of examples, so we can use them as tests</span></span>
<span id="cb354-35"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-35"></a><span class="kw">guess_minifier</span>(</span>
<span id="cb354-36"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-36"></a>  <span class="kw">minifyr_example</span>(<span class="st">&quot;css&quot;</span>)</span>
<span id="cb354-37"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-37"></a>)</span>
<span id="cb354-38"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-38"></a><span class="kw">guess_minifier</span>(</span>
<span id="cb354-39"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-39"></a>  <span class="kw">minifyr_example</span>(<span class="st">&quot;js&quot;</span>)</span>
<span id="cb354-40"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-40"></a>)</span>
<span id="cb354-41"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-41"></a><span class="kw">guess_minifier</span>(</span>
<span id="cb354-42"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-42"></a>  <span class="kw">minifyr_example</span>(<span class="st">&quot;html&quot;</span>)</span>
<span id="cb354-43"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-43"></a>)</span>
<span id="cb354-44"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-44"></a><span class="kw">guess_minifier</span>(</span>
<span id="cb354-45"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-45"></a>  <span class="kw">minifyr_example</span>(<span class="st">&quot;json&quot;</span>)</span>
<span id="cb354-46"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-46"></a>)</span>
<span id="cb354-47"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-47"></a><span class="co"># Try with a non valid extension</span></span>
<span id="cb354-48"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-48"></a><span class="kw">guess_minifier</span>(</span>
<span id="cb354-49"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-49"></a>  <span class="st">&quot;path/to/text.docx&quot;</span></span>
<span id="cb354-50"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb354-50"></a>)</span></code></pre></div>
<ul>
<li>A <code>compress()</code> function, which takes three parameters: the file as <code>input</code>, the <code>algo</code>, outputed from our last function, nd the selection, which is the one selected by the user.
The compressed file will be outputed to a tempfile.</li>
</ul>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-1"></a>compress &lt;-<span class="st"> </span><span class="cf">function</span>(algo, selection){</span>
<span id="cb355-2"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-2"></a>  <span class="co"># Creating a tempfile using our algo object</span></span>
<span id="cb355-3"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-3"></a>  tps &lt;-<span class="st"> </span><span class="kw">tempfile</span>(<span class="dt">fileext =</span> <span class="kw">sprintf</span>(<span class="st">&quot;.%s&quot;</span>, algo<span class="op">$</span>ext))</span>
<span id="cb355-4"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-4"></a>  <span class="co"># Getting the function with the selection</span></span>
<span id="cb355-5"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-5"></a>  converter &lt;-<span class="st"> </span><span class="kw">get</span>(</span>
<span id="cb355-6"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-6"></a>    <span class="kw">grep</span>(selection, algo<span class="op">$</span>functions, <span class="dt">value =</span> <span class="ot">TRUE</span>)</span>
<span id="cb355-7"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-7"></a>  )</span>
<span id="cb355-8"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-8"></a>  <span class="co"># Do the conversion</span></span>
<span id="cb355-9"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-9"></a>  <span class="kw">converter</span>(algo<span class="op">$</span>file, tps)</span>
<span id="cb355-10"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-10"></a>  <span class="co"># Return the temp file</span></span>
<span id="cb355-11"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-11"></a>  <span class="kw">return</span>(tps)</span>
<span id="cb355-12"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-12"></a>}</span>
<span id="cb355-13"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-13"></a></span>
<span id="cb355-14"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-14"></a>algo &lt;-<span class="st"> </span><span class="kw">guess_minifier</span>(</span>
<span id="cb355-15"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-15"></a>  <span class="kw">minifyr_example</span>(<span class="st">&quot;js&quot;</span>)</span>
<span id="cb355-16"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-16"></a>)</span>
<span id="cb355-17"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-17"></a></span>
<span id="cb355-18"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-18"></a><span class="kw">compress</span>(</span>
<span id="cb355-19"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-19"></a>  <span class="dt">algo =</span> algo, </span>
<span id="cb355-20"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-20"></a>  <span class="dt">selection =</span> <span class="st">&quot;babel&quot;</span></span>
<span id="cb355-21"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb355-21"></a>)</span></code></pre></div>
<ul>
<li>Finally, a <code>compare()</code> function, that can compare the size of two files, so that we can measure the minification gain.
This function will take two file paths.</li>
</ul>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb356-1"></a>compare &lt;-<span class="st"> </span><span class="cf">function</span>(original, minified){</span>
<span id="cb356-2"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb356-2"></a>  <span class="co"># Get the file size of both</span></span>
<span id="cb356-3"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb356-3"></a>  original &lt;-<span class="st"> </span>fs<span class="op">::</span><span class="kw">file_info</span>(original)<span class="op">$</span>size</span>
<span id="cb356-4"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb356-4"></a>  minified &lt;-<span class="st"> </span>fs<span class="op">::</span><span class="kw">file_info</span>(minified)<span class="op">$</span>size</span>
<span id="cb356-5"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb356-5"></a>  <span class="kw">return</span>(original <span class="op">-</span><span class="st"> </span>minified)</span>
<span id="cb356-6"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb356-6"></a>}</span></code></pre></div>
<p>So, for the complete process:</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb357-1"></a>algo &lt;-<span class="st"> </span><span class="kw">guess_minifier</span>(</span>
<span id="cb357-2"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb357-2"></a>  <span class="kw">minifyr_example</span>(<span class="st">&quot;js&quot;</span>)</span>
<span id="cb357-3"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb357-3"></a>)</span>
<span id="cb357-4"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb357-4"></a></span>
<span id="cb357-5"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb357-5"></a>compressed &lt;-<span class="st"> </span><span class="kw">compress</span>(</span>
<span id="cb357-6"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb357-6"></a>  <span class="dt">algo =</span> algo, </span>
<span id="cb357-7"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb357-7"></a>  <span class="dt">selection =</span> <span class="st">&quot;babel&quot;</span></span>
<span id="cb357-8"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb357-8"></a>)</span>
<span id="cb357-9"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb357-9"></a><span class="kw">compare</span>(</span>
<span id="cb357-10"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb357-10"></a>  <span class="kw">minifyr_example</span>(<span class="st">&quot;js&quot;</span>), </span>
<span id="cb357-11"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb357-11"></a>  compressed</span>
<span id="cb357-12"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb357-12"></a>)</span></code></pre></div>
<p>Now, time to move this into a Vignette!</p>
</div>
<div id="ui-prototyping" class="section level3 unnumbered">
<h3>UI prototyping</h3>
<p>Let’s start by drawing a small mock-up of our front-end using <a href="https://excalidraw.com/">Excalidraw</a>.</p>

<p>We would love this application to be “full screen”, and to do that, we’ll take inspiration from the <a href="https://www.w3schools.com/howto/howto_css_split_screen.asp">split-screen layout</a> available at W3Schools.
To mock the UI, we will also use the <code>{shinipsum}</code> package.</p>
<p>In this first step, we will start generating the module skeleton for the application.
Here, we will have a <code>left</code> module for the left part of the app, and <code>right</code> for the right.
Each will receive their corresponding <code>class</code>, based on the CSS from W3.
Now that these two spots are available, we’ll add the two modules, with some fake output to simulate our application behavior.
The left side will be functional, in the sense that uploading a file will randomly add algorithms to the <code>selectInput()</code>, and clicking on the <code>Launch the minification</code> will regenerate a fake text.</p>
<p>Now, let’s pick a soft palette of colors, using <a href="https://coolors.co/palettes/">coolors.co</a>, and a font family from <a href="https://fonts.google.com/">fonts.google.com</a>.
We went for:</p>
<ul>
<li>One of the monochrome palette from <a href="https://coolors.co/fbfbf2-e5e6e4-cfd2cd-a6a2a2-847577">coolors.co</a>.</li>
<li>The <code>Sora</code> font <a href="https://fonts.google.com/specimen/Sora">fonts.google.com/specimen/Sora</a>.
There are not that much text displayed on the screen, so this font should work well.</li>
</ul>
<p>We then used CSS to arrange our page: size, padding, alignment, colors…
If you want to know more about this file, it’s located in the <code>inst/app/www</code> folder of the package.</p>
<p>This step is available at <a href="https://github.com/ColinFay/minifying/tree/master/step-2-prototype">github.com/ColinFay/minifying/step-2-prototype</a>.</p>
</div>
</div>
<div id="step-3-build-1" class="section level2 unnumbered">
<h2>Step 3: Build</h2>
<p>Now we’ve got the backend in an Rmd, the front end working with <code>{shinipsum}</code>, now is the time to make the two work together!</p>
<p>Here is the logic we will be adding to the application:</p>
<ul>
<li><p>When a file is uploaded, we also check the format from the server-side: UI only restriction using <code>accept</code> will not be enough to stop users who <strong>really</strong> want to upload something else.</p></li>
<li><p>If the file comes with the right extension, we update the algorithm selection, and read it inside the “Original content” block.</p></li>
<li><p>Once the user clicks on “Launch the minification”, we create a temp file, and minify the original file inside this temp file.</p></li>
<li><p>When the file is minified, we update the gain output to reflect how many bytes have been gained from the minification, and add the result of this minification to the “Minified content” block.</p></li>
<li><p>Finally, when the “Download the output” button is clicked, the minified file is downloaded.</p></li>
</ul>
<p>During this process, we will migrate the functions from the Rmd to their own files, use external dependencies, and document our business logic functions.
You can refer to the <code>dev/02_dev.R</code> file if you want to read the exact steps taken here.</p>
<p>This step is available at <a href="https://github.com/ColinFay/minifying/tree/master/step-3-build">github.com/ColinFay/minifying/step-3-build</a>.</p>
</div>
<div id="step-4-strengthen-1" class="section level2 unnumbered">
<h2>Step 4: Strengthen</h2>
<p>As of now, we have a working application.
Time to strengthen it!</p>
<p>Here are the few steps we will be working on:</p>
<ul>
<li><p>Turning our business logic into an R6 Class, so that we can build tests around it, and prevent the data structure from taking part into the interactivity mechanic.
This R6 class will generate an object at the very start of our app, and it will be passed into the modules.</p></li>
<li><p>As the minification process takes a couple of seconds, we will add a small progress bar so that the user know something is happening.</p></li>
<li><p>As we will use R6, we will need to manually set the reactive context invalidation.
To do so, we will use <code>triggers</code> from <code>{gargoyle}</code>.</p></li>
<li><p>Chances are that the users will be testing several algorithms when using the application, and we don’t want the minification process to happen another time when it is called on the same file and with the same algorithm, even more as the process involves calling an external Node process.
To prevent that, we will be caching the function that does the computation.</p></li>
<li><p>Create an unseen input that will upload data, so that we can build an interactivity test using <code>{crrry}</code>.
This input will look like this on the server:</p></li>
</ul>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb358-1"></a>  <span class="kw">observeEvent</span>( input<span class="op">$</span>testingtrigger , {</span>
<span id="cb358-2"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb358-2"></a>    </span>
<span id="cb358-3"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb358-3"></a>    <span class="cf">if</span> (golem<span class="op">::</span><span class="kw">app_dev</span>()){</span>
<span id="cb358-4"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb358-4"></a>      file<span class="op">$</span>original_file &lt;-<span class="st"> </span>minifyr<span class="op">::</span><span class="kw">minifyr_example</span>(<span class="dt">ext =</span> input<span class="op">$</span>testingtext)</span>
<span id="cb358-5"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb358-5"></a>      file<span class="op">$</span><span class="kw">guess_minifier</span>()</span>
<span id="cb358-6"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb358-6"></a>      file<span class="op">$</span>type &lt;-<span class="st"> </span>input<span class="op">$</span>upload<span class="op">$</span>type</span>
<span id="cb358-7"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb358-7"></a>      file<span class="op">$</span>minified_file &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb358-8"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb358-8"></a>      file<span class="op">$</span>original_name &lt;-<span class="st"> </span>input<span class="op">$</span>upload<span class="op">$</span>name</span>
<span id="cb358-9"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb358-9"></a>      gargoyle<span class="op">::</span><span class="kw">trigger</span>(<span class="st">&quot;uploaded&quot;</span>)</span>
<span id="cb358-10"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb358-10"></a>    }</span>
<span id="cb358-11"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb358-11"></a>  </span>
<span id="cb358-12"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb358-12"></a>  })</span></code></pre></div>
<p>We use this pattern so that we can combine it with a testing suite with <code>{crrry}</code>, using the following pattern:</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-1"></a>test &lt;-<span class="st"> </span>crrry<span class="op">::</span>CrrryProc<span class="op">$</span><span class="kw">new</span>(</span>
<span id="cb359-2"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-2"></a>  <span class="dt">chrome_bin =</span> pagedown<span class="op">::</span><span class="kw">find_chrome</span>(),</span>
<span id="cb359-3"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-3"></a>  <span class="co"># Process to launch locally</span></span>
<span id="cb359-4"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-4"></a>  <span class="dt">fun =</span> <span class="st">&quot;options(golem.app.prod = FALSE);golem::document_and_reload();run_app()&quot;</span>,</span>
<span id="cb359-5"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-5"></a>  <span class="co"># Note that you will need httpuv &gt;= 1.5.2 for randomPort</span></span>
<span id="cb359-6"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-6"></a>  <span class="dt">chrome_port =</span> httpuv<span class="op">::</span><span class="kw">randomPort</span>(), </span>
<span id="cb359-7"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-7"></a>  <span class="dt">headless =</span> <span class="ot">FALSE</span></span>
<span id="cb359-8"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-8"></a>)</span>
<span id="cb359-9"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-9"></a></span>
<span id="cb359-10"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-10"></a>test<span class="op">$</span><span class="kw">wait_for_shiny_ready</span>()</span>
<span id="cb359-11"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-11"></a>ext &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;css&quot;</span>, <span class="st">&quot;js&quot;</span>, <span class="st">&quot;json&quot;</span>, <span class="st">&quot;html&quot;</span>)</span>
<span id="cb359-12"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-12"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(ext)){</span>
<span id="cb359-13"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-13"></a>  <span class="co"># Set the extension value</span></span>
<span id="cb359-14"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-14"></a>  test<span class="op">$</span><span class="kw">shiny_set_input</span>(<span class="st">&quot;left_ui_1-testingtext&quot;</span>, ext[i])</span>
<span id="cb359-15"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-15"></a>  <span class="co"># Trigger the file to be read</span></span>
<span id="cb359-16"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-16"></a>  test<span class="op">$</span><span class="kw">shiny_set_input</span>(<span class="st">&quot;left_ui_1-testingtrigger&quot;</span>, i)</span>
<span id="cb359-17"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-17"></a>  <span class="co"># Launch the minification</span></span>
<span id="cb359-18"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-18"></a>  test<span class="op">$</span><span class="kw">shiny_set_input</span>(<span class="st">&quot;left_ui_1-launch&quot;</span>, i)</span>
<span id="cb359-19"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-19"></a>}</span>
<span id="cb359-20"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-20"></a></span>
<span id="cb359-21"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb359-21"></a>test<span class="op">$</span><span class="kw">stop</span>()</span></code></pre></div>
<p>It’s safer to wrap these tests between <code>if(interactive())</code>, as running the checks outside of your current session might not launch the app correctly, and launching external processes (the one running the app with Chrome) might fail when run non-interactively.
And on top of that, running these inside you CI might cause some pain, and of course if will not work on CRAN checks.</p>
<p>We’ll also be building “standard” function checks, which you can find in the <code>test/</code> folder.</p>
<p>This step is available at <a href="https://github.com/ColinFay/minifying/tree/master/step-4-strengthen">github.com/ColinFay/minifying/step-4-strengthen</a>.</p>
</div>
<div id="step-5-deploy-1" class="section level2 unnumbered">
<h2>Step 5: Deploy</h2>
<p>As an example, we will deploy this app through three medium: as a package, on RStudio Connect, and with Docker.</p>
<div id="before-deploy-checklist" class="section level3 unnumbered">
<h3>Before deploy checklist</h3>
<ul>
<li><p><input type="checkbox" disabled="" checked="" />
<em><code>devtools::check()</code>, run from the command line, returns 0 errors, 0 warnings, 0 notes</em></p></li>
<li><p><input type="checkbox" disabled="" checked="" />
<em>The current version number is valid, <em>i.e</em> if the current app is an update, the version number has been bumped</em>: it makes sense, before the first deployment, to keep a version number of <code>0.0.0.9000</code>, and increment this dev version whenever we implement changes or do test deployments.
As we are doing here a “true” deployment, we bumped the version to <code>0.1.0</code>.</p></li>
<li><p><input type="checkbox" disabled="" checked="" />
<em>Everything is fully documented</em>: we have documented all the functions, even the internal, there is a Vignette that describe the business logic, and the README is filled</p></li>
<li><p><input type="checkbox" disabled="" checked="" />
<em>Test coverage is good, i.e you cover a sufficient amount of the code base, and these tests cover the core/strategic algorithms</em></p></li>
<li><p><input type="checkbox" disabled="" checked="" />
<em>It’s clear to everyone involved in the project who is the person to call if something goes wrong </em></p></li>
<li><p><input type="checkbox" disabled="" checked="" />
<em>It’s clear to everyone involved in the project what is the debugging process, how to communicate bugs to the developer team, and how long it will take to get changes fixed</em>: this project will be made open source, so the bug will have to be listed on the Github repo.
To help that, we added a link to the GitHub repository on the application.</p></li>
<li><p><input type="checkbox" disabled="" checked="" />
<em>(If relevant) The server it is deployed on has all the necessary software installed (Docker, Connect, <code>{shiny}</code> Server…) to make the application run</em>.</p></li>
<li><p><input type="checkbox" disabled="" checked="" />
<em>The server has all the system requirements needed (the system libraries), and if not, they are installed with the application (if it’s dockerized)</em>: NodeJS will need to be installed on the Docker and on the Server running RStudio Connect.
A check is also added on top of <code>run_app()</code> for the availability of NodeJS on the system, especially for people installing it as a package.
This check will also check if <code>node-minify</code> has been installed, and if note, it will be installed.
This check might take some time to run, but it will only be performed the first time the app is launched.</p></li>
<li><p><input type="checkbox" disabled="" checked="" />
<em>The application, if deployed on a server, will be deployed on a port which will be accessible by the users</em>: when building the Dockerfile using <code>{golem}</code>, the correct port is exposed (<em>i.e</em> the app will run on port 80, which is also made available).
For the other medium, the port will be automatically chosen, either by <code>{shiny}</code> or by Connect</p></li>
<li><p><input type="checkbox" disabled="" checked="" />
<em>(If relevant) The environment variables from the production server are managed inside the application</em>: not relevant</p></li>
<li><p><input type="checkbox" disabled="" checked="" />
<em>(If relevant) The app is launched on the correct port, or at least this port can be configured via an environment variable</em>: not relevant</p></li>
<li><p><input type="checkbox" disabled="" checked="" />
<em>(If relevant) The server where the app is deployed have access to the data sources (database, API…)</em>: not relevant</p></li>
<li><p><input type="checkbox" disabled="" checked="" />
<em>If the app records data, there are backups for these data</em>: not relevant</p></li>
</ul>
</div>
<div id="deploy-as-a-tar.gz" class="section level3 unnumbered">
<h3>Deploy as a tar.gz</h3>
<p>To share an application as a tar.gz, you can call <code>devtools::build()</code>, which will compile a <code>tar.gz</code> file inside the parent folder of your current application.
You can then share this archive, and install it with <code>remotes::install_local("path/to/tar.gz")</code>.
Note that this can also be done with base R, but <code>{remotes}</code> offers a smarter way when it comes to manage dependencies of your archived package.</p>
<p>This <code>tar.gz</code> can also be send to a package repository; be it the CRAN or any other package manager you might have in your company.</p>
</div>
<div id="deploy-on-rstudio-connect" class="section level3 unnumbered">
<h3>Deploy on RStudio Connect</h3>
<p>Once we are sure that the server running connect has NodeJS installed, and that we have installed the minify module with <code>minifyr::minifyr_npm_install()</code>, we can create the app.R using <code>golem::add_rstudioconnect_file()</code>, and then push to the Connect server.</p>
</div>
<div id="deploy-with-docker" class="section level3 unnumbered">
<h3>Deploy with Docker</h3>
<p>To create the <code>Dockerfile</code>, we’ll start by launching <code>golem::add_dockerfile()</code>.
This function will compute the system requirements<a href="#fn74" class="footnote-ref" id="fnref74"><sup>74</sup></a>., and create a generic <code>Dockerfile</code> for your application. Once this is done, we will create/update the <code>.dockerignore</code> file at the root of the package, so that unwanted files are not bundled with our docker image.</p>
<p>Inside our <code>Dockerfile</code>, we will also change the default repo to use “<a href="https://packagemanager.rstudio.com/all/latest" class="uri">https://packagemanager.rstudio.com/all/latest</a>”, which proposes precompiled packages for our system, making the installation faster.
We will also add an installation of NodeJS, which is needed by our application</p>
<p>Then, we can go to our terminal, and compile the image!</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb360-1"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb360-1"></a><span class="ex">docker</span> build -t minifying . </span></code></pre></div>
<p>Now we’ve got a working image!
We can try it with:</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb361-1"><a href="use-case-building-an-app-from-start-to-finish-usecase.html#cb361-1"></a><span class="ex">docker</span> run -p 2811:80 minifying</span></code></pre></div>
<p>This step is available at <a href="https://github.com/ColinFay/minifying/tree/master/step-5-deploy">github.com/ColinFay/minifying/step-5-deploy</a>.</p>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="74">
<li id="fn74"><p>
Note that at the time of writing these lines, there is also an issue with the dependencies collected by the <code>sysreq</code> API, leading to an issue when attempting to compile the Dockerfile. Removing the installation of <code>libgit2-dev</code> solved the issue. <a href="use-case-building-an-app-from-start-to-finish-usecase.html#fnref74" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<hr/>
<footer>
<a href="rtask.thinkr.fr"><img src="img/logo400_129.png" alt="ThinkR Website"/></a>
</footer>
            </section>

          </div>
        </div>
      </div>
<a href="css.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="session-info.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ThinkR-open/building-shiny-apps-workflow/edit/master/19-appendix.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["engineering-production-grade-shiny-apps.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
